// Generated by CoffeeScript 1.6.3
(function(){window.Library=function(){function e(){var e=this;$.when(this.buildSections()).done(function(){return e.loadHighlight()});$(".library-navigation .expander").click(function(){return $(".library-navigation").toggleClass("expanded")});$(".library-code-switch").click(function(){return $(".library-content").toggleClass("no-code")})}e.prototype.buildSections=function(){var e=this;return $(".library-section").each(function(t,n){var r;r=e.htmlClean($(n).html());e.setupSection(n,r,$(n).data("label"));if($(n).data("code")!==!1)return e.codeSample(n,r)})};e.prototype.setupSection=function(e,t,n){$(e).html("<div class='library-preview'>");$(e).find(".library-preview").html(t);return $(e).prepend("<span class='library-section-label'>"+n+"</span>")};e.prototype.codeSample=function(e,t){$(e).append("</div><div class='library-code'></div>");$(e).find(".library-code").html("<pre><code></code></pre>");$(e).find(".library-code pre code").text(t);if($(e).data("code")===!1)return $(e).find(".library-code pre").css("visibility","hidden")};e.prototype.loadHighlight=function(){return $.getScript("http://yandex.st/highlightjs/7.3/highlight.min.js",function(){hljs.tabReplace="  ";return hljs.initHighlightingOnLoad()})};e.prototype.htmlClean=function(e){var t,n,r,i,s,o;e=e.replace(/(\r\n|\n|\r)/,"");n=e.substr(0,e.indexOf("<"));t=e.split(/(\r\n|\n|\r)/g);i=[];for(s=0,o=t.length;s<o;s++){r=t[s];i.push(r.replace(n,""))}return i.join("").trim()};return e}();$(function(){var e;return e=new Library})}).call(this);